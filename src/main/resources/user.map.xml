<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper  
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="com.sannong.dao.UserMapper">
     <cache eviction="FIFO" flushInterval="60000" size="512" readOnly="true" />

     <resultMap type="User" id="userMap">
        <id property="userId" column="id" />
        <result property="userName" column="name" />
        <result property="address" column="address" />
        <result property="birthday" column="birthday" />
        <result property="gender" column="gender" />
        <result property="jobTitle" column="jobTitle" />
        <result property="password" column="password" />
        <result property="phoneNumber" column="phoneNumber" />
        <result property="smsAuthCode" column="smsAuthCode" />
        <result property="orgnization" column="orgnization" />
        <result property="updateTime" column="updateTime" />
     </resultMap>
     
     <select id="getUserByAuditorId" parameterType="User" resultMap="userMap">
     	<![CDATA[
        	select * from user where id = #{id}
        ]]>
     </select>
     
     <select id="loginValidation" parameterType="Map" resultMap="userMap">
     	<![CDATA[
        	select * from user where phone_number = #{phoneNumber} and password = #{password}
        ]]>
     </select>
     
     <insert id="addUserInfo" parameterType="User" useGeneratedKeys="true" keyProperty="userId">
     	<![CDATA[
        	insert into user(password,phone_number) values(#{phoneNumber} ,#{password})
        ]]>
     </insert>
</mapper>

